2024-11-26 23:20:21,213 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-26 23:20:21,213 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-26 23:20:21,213 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-26 23:20:21,214 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-26 23:20:21,214 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-26 23:20:21,214 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-26 23:20:21,229 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_m9a00hw__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_m9a00hw_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:21,423 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4ww563io_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4ww563io', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:21,527 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kqb9ssmd_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kqb9ssmd', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:21,642 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_20luq16k_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_20luq16k', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:21,769 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3j21w0q3_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3j21w0q3', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:21,898 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7hrjmkm4_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7hrjmkm4', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:21,999 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_veisfix8_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_veisfix8', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,111 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wqhpcyvh_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wqhpcyvh', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,223 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2b6dhvyr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2b6dhvyr', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,332 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s0e7ez6q_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s0e7ez6q', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,438 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kzl5s00o_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kzl5s00o', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,542 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ilpfxg7t_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ilpfxg7t', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,679 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_h8emq5u2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_h8emq5u2', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,779 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_glvoiimj_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_glvoiimj', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,879 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_14kmgo8b_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_14kmgo8b', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:22,981 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bha7sbx6_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bha7sbx6', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:23,083 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ym3uist5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ym3uist5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:23,185 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cx18_xp__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cx18_xp_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:23,304 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-26 23:20:23,304 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-26 23:20:23,311 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-26 23:20:23,375 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cg699u5__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cg699u5_', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:20:23,533 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-26 23:20:23,533 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-26 23:20:23,534 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-26 23:20:23,534 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-26 23:20:23,540 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-26 23:20:23,605 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_06on4by8_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_06on4by8', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:20:23,756 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-26 23:20:23,757 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 96.0)
2024-11-26 23:20:23,757 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-26 23:20:23,757 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-26 23:20:23,763 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-26 23:20:23,827 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__k7g43sq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__k7g43sq', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:20:23,980 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-26 23:20:23,980 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-26 23:20:23,980 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-26 23:20:23,980 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-26 23:20:23,986 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-26 23:20:24,051 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0kyj5512_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0kyj5512', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:24,223 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-26 23:20:24,224 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-26 23:20:24,224 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-26 23:20:24,224 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-26 23:20:24,231 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-26 23:20:24,297 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2ycvmhdi_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2ycvmhdi', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:20:24,518 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QyJasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-26 23:20:24,519 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QyJasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 90.6470588235294)
2024-11-26 23:20:24,519 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-26 23:20:24,519 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-26 23:20:24,525 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-26 23:20:24,590 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_umiqq2e__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_umiqq2e_', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:20:24,742 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0487878246(M)'
2024-11-26 23:20:24,742 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0487878246(M) (Confidence: 81.5)
2024-11-26 23:20:24,743 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-26 23:20:24,743 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-26 23:20:24,749 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-26 23:20:24,813 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_gin9jrw5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_gin9jrw5', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:20:24,970 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-26 23:20:24,970 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-26 23:20:24,970 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-26 23:20:24,970 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-26 23:20:24,976 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-26 23:20:25,040 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6c22kir1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6c22kir1', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-26 23:20:25,187 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-26 23:20:25,187 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-26 23:20:25,187 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-26 23:20:25,283 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-26 23:20:25,293 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-26 23:20:25,293 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-26 23:20:25,293 - RequestFormProcessor - WARNING - Medicare number format invalid: 22364036
2024-11-26 23:20:25,293 - RequestFormProcessor - DEBUG - Phone entries found: ['0487878246(M)']
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Assigned '0487878246' as Mobile phone based on label '(M)'.
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: None, Mobile Phone: 0487878246
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: None, Mobile: 0487878246
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-26 23:20:25,294 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-26 23:20:25,295 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-26 23:20:25,295 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 83.77
2024-11-26 23:20:25,295 - RequestFormProcessor - DEBUG - Medicare number validation for '22364036': Passed
2024-11-26 23:20:25,295 - RequestFormProcessor - DEBUG - Phone number validation for '0487878246': Passed
2024-11-26 23:20:25,295 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-26 23:20:25,295 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-26 23:25:21,316 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-26 23:25:21,317 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-26 23:25:21,317 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-26 23:25:21,317 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-26 23:25:21,317 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-26 23:25:21,317 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-26 23:25:21,334 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_o86w986o_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_o86w986o', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:21,529 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_71q0ybew_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_71q0ybew', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:21,631 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_44ht67jf_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_44ht67jf', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:21,734 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tnc4cnlp_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tnc4cnlp', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:21,862 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lgxcr5my_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lgxcr5my', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:21,990 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_m6ljbiht_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_m6ljbiht', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,091 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_r8lmvukf_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_r8lmvukf', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,201 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lza2pqzb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lza2pqzb', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,312 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cg_0map2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cg_0map2', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,418 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qqwvg8rs_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qqwvg8rs', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,522 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zcp7w7o4_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zcp7w7o4', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,626 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2a3is82b_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2a3is82b', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,762 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_23hoyfww_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_23hoyfww', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,862 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lfdp1nud_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lfdp1nud', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:22,965 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cjt04bpv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cjt04bpv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:23,068 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_z4s9y1ju_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_z4s9y1ju', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:23,169 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_idhl79_h_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_idhl79_h', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:23,269 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dahl49hk_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dahl49hk', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:23,389 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-26 23:25:23,390 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-26 23:25:23,397 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-26 23:25:23,460 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7ja_h5am_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7ja_h5am', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:25:23,617 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-26 23:25:23,617 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-26 23:25:23,618 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-26 23:25:23,618 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-26 23:25:23,624 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-26 23:25:23,688 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bzds0r9q_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bzds0r9q', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:25:23,851 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-26 23:25:23,851 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 96.0)
2024-11-26 23:25:23,851 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-26 23:25:23,852 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-26 23:25:23,858 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-26 23:25:23,924 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lvxh5eou_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lvxh5eou', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:25:24,077 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-26 23:25:24,077 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-26 23:25:24,078 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-26 23:25:24,078 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-26 23:25:24,084 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-26 23:25:24,149 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_aydgefrs_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_aydgefrs', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:24,323 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-26 23:25:24,324 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-26 23:25:24,324 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-26 23:25:24,324 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-26 23:25:24,331 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-26 23:25:24,397 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lxtwed7t_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lxtwed7t', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:25:24,621 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QyJasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-26 23:25:24,621 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QyJasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 90.6470588235294)
2024-11-26 23:25:24,621 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-26 23:25:24,622 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-26 23:25:24,629 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-26 23:25:24,693 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w1w70nrh_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w1w70nrh', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:25:24,847 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0487878246(M)'
2024-11-26 23:25:24,847 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0487878246(M) (Confidence: 81.5)
2024-11-26 23:25:24,848 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-26 23:25:24,848 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-26 23:25:24,854 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-26 23:25:24,918 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ndi_mr4e_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ndi_mr4e', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:25:25,075 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-26 23:25:25,075 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-26 23:25:25,075 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-26 23:25:25,075 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-26 23:25:25,081 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-26 23:25:25,145 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_x3hfrgqr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_x3hfrgqr', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-26 23:25:25,292 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-26 23:25:25,292 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-26 23:25:25,292 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-26 23:25:25,311 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-26 23:25:25,320 - RequestFormProcessor - WARNING - Medicare number format invalid: 22364036
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Phone entries found: ['0487878246(M)']
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Assigned '0487878246' as Mobile phone based on label '(M)'.
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: None, Mobile Phone: 0487878246
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: None, Mobile: 0487878246
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-26 23:25:25,320 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 83.77
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Medicare number validation for '22364036': Passed
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Phone number validation for '0487878246': Passed
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-26 23:25:25,321 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-26 23:30:52,957 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-26 23:30:52,958 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-26 23:30:52,958 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-26 23:30:52,958 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-26 23:30:52,958 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-26 23:30:52,958 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-26 23:30:52,974 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ynhklt5k_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ynhklt5k', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:53,164 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_02w0qtf7_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_02w0qtf7', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:53,265 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_r2i83cs2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_r2i83cs2', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:53,366 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__fqwoynu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__fqwoynu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:53,489 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_laoll8lx_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_laoll8lx', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:53,617 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_45ct2vyp_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_45ct2vyp', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:53,716 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0rd3qjt5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0rd3qjt5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:53,826 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__k92mgh5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__k92mgh5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:53,937 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_31wrwae6_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_31wrwae6', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,045 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ipc22brj_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ipc22brj', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,149 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f6mw0ctf_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f6mw0ctf', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,252 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s9hywo8p_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s9hywo8p', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,386 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_enz3xh0x_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_enz3xh0x', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,482 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_9i3kjtwz_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_9i3kjtwz', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,581 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1jl74_w__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1jl74_w_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,681 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_x_dezzac_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_x_dezzac', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,782 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_up0u2q_z_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_up0u2q_z', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:54,882 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_v660kuew_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_v660kuew', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:30:55,001 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-26 23:30:55,002 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-26 23:30:55,009 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-26 23:31:28,390 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-26 23:31:28,391 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-26 23:31:28,392 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-26 23:31:28,392 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-26 23:31:28,392 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-26 23:31:28,392 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-26 23:31:28,407 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3chwgqgi_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3chwgqgi', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:28,599 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a28g3h7y_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a28g3h7y', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:28,702 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a9vy7hcx_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a9vy7hcx', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:28,804 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_l37h51sw_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_l37h51sw', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:28,929 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fi1m14il_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fi1m14il', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,059 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3ky9tk4g_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3ky9tk4g', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,159 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t137psg5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t137psg5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,270 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fxmohnao_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fxmohnao', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,383 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e099wa2a_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e099wa2a', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,492 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j__jucm1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j__jucm1', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,598 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s_qapzmi_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s_qapzmi', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,701 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_azwpvlb5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_azwpvlb5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,838 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ldcc5w6y_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ldcc5w6y', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:29,940 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1z34jkgu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1z34jkgu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:30,040 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_m865r3u1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_m865r3u1', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:30,141 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ysx93tpq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ysx93tpq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:30,245 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ei6xyqbz_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ei6xyqbz', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:30,347 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_y644po08_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_y644po08', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:30,467 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-26 23:31:30,468 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-26 23:31:30,476 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-26 23:31:30,479 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rvpvrgdt_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rvpvrgdt', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:31:30,592 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-26 23:31:30,592 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-26 23:31:30,593 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-26 23:31:30,593 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-26 23:31:30,599 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-26 23:31:30,604 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1rhllx19_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1rhllx19', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:31:30,716 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-26 23:31:30,716 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-26 23:31:30,716 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-26 23:31:30,716 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-26 23:31:30,722 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-26 23:31:30,722 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': ''
2024-11-26 23:31:30,722 - RequestFormProcessor - DEBUG - Field 'surname' extracted:  (Confidence: -1)
2024-11-26 23:31:30,722 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-26 23:31:30,722 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-26 23:31:30,728 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-26 23:31:30,793 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ufhue2if_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ufhue2if', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:30,983 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-26 23:31:30,984 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-26 23:31:30,984 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-26 23:31:30,984 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-26 23:31:30,991 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-26 23:31:31,057 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8rtdl3v6_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8rtdl3v6', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:31:31,280 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QyJasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-26 23:31:31,280 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QyJasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 90.6470588235294)
2024-11-26 23:31:31,280 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-26 23:31:31,280 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-26 23:31:31,287 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-26 23:31:31,293 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_vu9h87t8_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_vu9h87t8', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:31:31,404 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0487878246(M)'
2024-11-26 23:31:31,404 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0487878246(M) (Confidence: 81.5)
2024-11-26 23:31:31,405 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-26 23:31:31,405 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-26 23:31:31,411 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-26 23:31:31,416 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_drnze60n_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_drnze60n', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:31:31,528 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-26 23:31:31,528 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-26 23:31:31,528 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-26 23:31:31,528 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-26 23:31:31,534 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-26 23:31:31,598 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_d0ui6r2y_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_d0ui6r2y', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-26 23:31:31,745 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-26 23:31:31,745 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-26 23:31:31,746 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-26 23:31:31,765 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-26 23:31:31,774 - RequestFormProcessor - WARNING - Medicare number format invalid: 22364036
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Phone entries found: ['0487878246(M)']
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Assigned '0487878246' as Mobile phone based on label '(M)'.
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: None, Mobile Phone: 0487878246
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: None, Mobile: 0487878246
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-26 23:31:31,774 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-26 23:31:31,775 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-26 23:31:31,775 - RequestFormProcessor - WARNING - Insufficient data to construct the total name.
2024-11-26 23:31:31,775 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-26 23:31:31,775 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 71.52
2024-11-26 23:31:31,775 - RequestFormProcessor - DEBUG - Medicare number validation for '22364036': Passed
2024-11-26 23:31:31,775 - RequestFormProcessor - DEBUG - Phone number validation for '0487878246': Passed
2024-11-26 23:31:31,775 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-26 23:31:31,775 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-26 23:32:27,005 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-26 23:32:27,005 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-26 23:32:27,006 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-26 23:32:27,006 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-26 23:32:27,006 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-26 23:32:27,006 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-26 23:32:27,023 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f2p5r4kh_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f2p5r4kh', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:27,231 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ihntwfgc_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ihntwfgc', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:27,336 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5nam8_k5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5nam8_k5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:27,441 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2vn8cr8c_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2vn8cr8c', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:27,568 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qy79mcxw_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qy79mcxw', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:27,699 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8qplln9u_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8qplln9u', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:27,799 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2v1szx06_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2v1szx06', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:27,911 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e9j9vvcd_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e9j9vvcd', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,023 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_favwasqb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_favwasqb', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,131 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3mqw1ji2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3mqw1ji2', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,237 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__ab7nykv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__ab7nykv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,341 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_eluiso9r_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_eluiso9r', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,478 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wch1akc5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wch1akc5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,578 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6apx8nop_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6apx8nop', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,679 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dqhsumhj_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dqhsumhj', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,780 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3ol2xdhs_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3ol2xdhs', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,882 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0cd6jvaj_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0cd6jvaj', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:28,984 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e1zjnj8p_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e1zjnj8p', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:29,102 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-26 23:32:29,103 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-26 23:32:29,106 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-26 23:32:29,108 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_y2om545u_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_y2om545u', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:32:29,219 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-26 23:32:29,219 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-26 23:32:29,219 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-26 23:32:29,219 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-26 23:32:29,220 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-26 23:32:29,223 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kdx_2pbc_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kdx_2pbc', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:32:29,324 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': ''
2024-11-26 23:32:29,324 - RequestFormProcessor - DEBUG - Field 'given_names' extracted:  (Confidence: -1)
2024-11-26 23:32:29,324 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-26 23:32:29,324 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-26 23:32:29,325 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-26 23:32:29,328 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f_sjvr5b_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f_sjvr5b', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:32:29,450 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstong'
2024-11-26 23:32:29,450 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstong (Confidence: 91.0)
2024-11-26 23:32:29,450 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-26 23:32:29,450 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-26 23:32:29,451 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-26 23:32:29,456 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_50yernsp_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_50yernsp', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:29,587 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-26 23:32:29,587 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-26 23:32:29,587 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-26 23:32:29,587 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-26 23:32:29,590 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-26 23:32:29,598 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_h7b5lavz_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_h7b5lavz', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:32:29,785 - RequestFormProcessor - DEBUG - Corrected misread '' to '5' in field 'doctor_information'
2024-11-26 23:32:29,785 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'DrJasonHeise94PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-26 23:32:29,785 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: DrJasonHeise94PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 90.94117647058823)
2024-11-26 23:32:29,785 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-26 23:32:29,785 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-26 23:32:29,787 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-26 23:32:29,790 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0x64_hgc_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0x64_hgc', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:32:29,900 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0487678246(M)'
2024-11-26 23:32:29,900 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0487678246(M) (Confidence: 82.0)
2024-11-26 23:32:29,900 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-26 23:32:29,900 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-26 23:32:29,901 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-26 23:32:29,903 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_71ujjnap_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_71ujjnap', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:32:30,014 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': '424141/2024'
2024-11-26 23:32:30,014 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 424141/2024 (Confidence: 16.0)
2024-11-26 23:32:30,014 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-26 23:32:30,014 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-26 23:32:30,015 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-26 23:32:30,016 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_iwjo_0ew_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_iwjo_0ew', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-26 23:32:30,119 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': '|'
2024-11-26 23:32:30,119 - RequestFormProcessor - DEBUG - Field 'sex' extracted: | (Confidence: 0.0)
2024-11-26 23:32:30,119 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-26 23:32:30,138 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-26 23:32:30,146 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-26 23:32:30,146 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-26 23:32:30,147 - RequestFormProcessor - WARNING - Medicare number format invalid: 22364036
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Phone entries found: ['0487678246(M)']
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Assigned '0487678246' as Mobile phone based on label '(M)'.
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: None, Mobile Phone: 0487678246
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: None, Mobile: 0487678246
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-26 23:32:30,147 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-26 23:32:30,147 - RequestFormProcessor - WARNING - Insufficient data to construct the total name.
2024-11-26 23:32:30,148 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-26 23:32:30,148 - RequestFormProcessor - DEBUG - Sex field set to 'U' due to invalid value: |
2024-11-26 23:32:30,148 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 58.87
2024-11-26 23:32:30,148 - RequestFormProcessor - DEBUG - Medicare number validation for '22364036': Passed
2024-11-26 23:32:30,148 - RequestFormProcessor - DEBUG - Phone number validation for '0487678246': Passed
2024-11-26 23:32:30,148 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-26 23:32:30,148 - RequestFormProcessor - WARNING - Overall OCR confidence is low: 58.87
2024-11-26 23:32:30,148 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-26 23:36:23,290 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-26 23:36:23,291 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-26 23:36:23,291 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-26 23:36:23,292 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-26 23:36:23,292 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-26 23:36:23,292 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-26 23:36:23,309 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qjp2plbv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qjp2plbv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:23,513 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1abcj3d2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1abcj3d2', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:23,616 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_xgcq_1ds_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_xgcq_1ds', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:23,719 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ao4jrimv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ao4jrimv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:23,844 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2m77r9c6_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2m77r9c6', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:23,973 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_yvw4ybil_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_yvw4ybil', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,074 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_41638yeh_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_41638yeh', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,187 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_hydovo75_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_hydovo75', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,299 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__ac77viw_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__ac77viw', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,409 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7b69012c_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7b69012c', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,515 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7qfyjnze_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7qfyjnze', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,619 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_giud48q2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_giud48q2', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,757 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8bat4df3_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8bat4df3', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,858 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_uqt7zqbx_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_uqt7zqbx', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:24,959 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cqosf8b6_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cqosf8b6', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:25,061 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j31k1yom_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j31k1yom', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:25,162 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j9nkga2o_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j9nkga2o', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:25,263 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6m2pxd48_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6m2pxd48', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:25,382 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-26 23:36:25,383 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-26 23:36:25,385 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-26 23:36:25,387 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ur2zf8v6_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ur2zf8v6', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:36:25,497 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-26 23:36:25,497 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-26 23:36:25,498 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-26 23:36:25,498 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-26 23:36:25,499 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-26 23:36:25,502 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ycila6rb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ycila6rb', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:36:25,605 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-26 23:36:25,606 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 96.0)
2024-11-26 23:36:25,606 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-26 23:36:25,606 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-26 23:36:25,607 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-26 23:36:25,610 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_p440jg1w_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_p440jg1w', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:36:25,716 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-26 23:36:25,717 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-26 23:36:25,717 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-26 23:36:25,717 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-26 23:36:25,718 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-26 23:36:25,723 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_njf2qplc_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_njf2qplc', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:25,851 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-26 23:36:25,851 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-26 23:36:25,852 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-26 23:36:25,852 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-26 23:36:25,854 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-26 23:36:25,863 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_19npnvsq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_19npnvsq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:36:26,042 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-26 23:36:26,042 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-26 23:36:26,042 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-26 23:36:26,042 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-26 23:36:26,043 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-26 23:36:26,047 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kmidozp9_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kmidozp9', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:36:26,156 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0487878246(M)'
2024-11-26 23:36:26,156 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0487878246(M) (Confidence: 81.25)
2024-11-26 23:36:26,156 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-26 23:36:26,156 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-26 23:36:26,157 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-26 23:36:26,159 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_k9egi728_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_k9egi728', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:36:26,270 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-26 23:36:26,270 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-26 23:36:26,270 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-26 23:36:26,270 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-26 23:36:26,271 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-26 23:36:26,273 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5_yh6vbl_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5_yh6vbl', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-26 23:36:26,373 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-26 23:36:26,373 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 91.0)
2024-11-26 23:36:26,373 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-26 23:36:26,393 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-26 23:36:26,401 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-26 23:36:26,402 - RequestFormProcessor - WARNING - Medicare number format invalid: 22364036
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Phone entries found: ['0487878246(M)']
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Assigned '0487878246' as Mobile phone based on label '(M)'.
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: None, Mobile Phone: 0487878246
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: None, Mobile: 0487878246
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-26 23:36:26,402 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-26 23:36:26,403 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-26 23:36:26,403 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 84.02
2024-11-26 23:36:26,403 - RequestFormProcessor - DEBUG - Medicare number validation for '22364036': Passed
2024-11-26 23:36:26,403 - RequestFormProcessor - DEBUG - Phone number validation for '0487878246': Passed
2024-11-26 23:36:26,403 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-26 23:36:26,403 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-26 23:37:09,615 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-26 23:37:09,616 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-26 23:37:09,616 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-26 23:37:09,617 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-26 23:37:09,617 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-26 23:37:09,617 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-26 23:37:09,635 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_js4_gj8y_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_js4_gj8y', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:09,826 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0rd43dji_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0rd43dji', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:09,930 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mejcepxu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mejcepxu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,045 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qbvcksf8_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qbvcksf8', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,173 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3xpriio1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3xpriio1', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,302 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f33k6tcv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f33k6tcv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,402 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_scr2ok80_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_scr2ok80', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,516 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w6s_mflq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w6s_mflq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,629 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_hlpjkbnv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_hlpjkbnv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,739 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_01xzxmvd_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_01xzxmvd', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,849 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zo03hufs_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zo03hufs', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:10,954 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__uj810oi_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__uj810oi', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:11,092 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jeh3xdtf_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jeh3xdtf', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:11,192 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3hypw1ba_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3hypw1ba', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:11,292 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a15mowhj_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a15mowhj', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:11,393 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_hkb9id3k_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_hkb9id3k', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:11,494 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fip0it35_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fip0it35', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:11,595 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_k4b1cs6q_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_k4b1cs6q', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:11,716 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-26 23:37:11,717 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-26 23:37:11,719 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-26 23:37:11,723 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_whcl_91t_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_whcl_91t', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:37:11,833 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-26 23:37:11,833 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-26 23:37:11,834 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-26 23:37:11,834 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-26 23:37:11,836 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-26 23:37:11,840 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1w3c0c22_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1w3c0c22', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:37:11,946 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-26 23:37:11,946 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-26 23:37:11,946 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-26 23:37:11,946 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-26 23:37:11,948 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-26 23:37:11,952 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dqg916me_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dqg916me', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:37:12,059 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-26 23:37:12,060 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-26 23:37:12,060 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-26 23:37:12,060 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-26 23:37:12,061 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-26 23:37:12,068 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6ed_nbio_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6ed_nbio', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:12,197 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-26 23:37:12,197 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-26 23:37:12,198 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-26 23:37:12,198 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-26 23:37:12,200 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-26 23:37:12,212 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kgxb_uqo_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kgxb_uqo', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:12,393 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-26 23:37:12,394 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-26 23:37:12,394 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-26 23:37:12,394 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-26 23:37:12,395 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-26 23:37:12,401 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_68_ckkhx_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_68_ckkhx', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:37:12,525 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-26 23:37:12,525 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-26 23:37:12,525 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-26 23:37:12,525 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-26 23:37:12,526 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-26 23:37:12,530 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2sx5lx1c_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2sx5lx1c', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:37:12,643 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-26 23:37:12,644 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-26 23:37:12,644 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-26 23:37:12,644 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-26 23:37:12,645 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-26 23:37:12,647 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__5h01azp_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__5h01azp', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-26 23:37:12,749 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-26 23:37:12,749 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-26 23:37:12,749 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-26 23:37:12,769 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-26 23:37:12,777 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-26 23:37:12,777 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-26 23:37:12,777 - RequestFormProcessor - WARNING - Medicare number format invalid: 22364036
2024-11-26 23:37:12,777 - RequestFormProcessor - DEBUG - Phone entries found: ['0457578246(H)0457578246(M)']
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Assigned '04575782460457578246' as Home phone based on label '(H)'.
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 04575782460457578246, Mobile Phone: None
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 04575782460457578246, Mobile: None
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-26 23:37:12,778 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-26 23:37:12,779 - RequestFormProcessor - DEBUG - Medicare number validation for '22364036': Passed
2024-11-26 23:37:12,779 - RequestFormProcessor - DEBUG - Phone number validation for '04575782460457578246': Failed
2024-11-26 23:37:12,779 - RequestFormProcessor - ERROR - Home Phone Number validation failed: 04575782460457578246
2024-11-26 23:37:12,779 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-26 23:37:12,779 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-26 23:39:26,824 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-26 23:39:26,825 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-26 23:39:26,825 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-26 23:39:26,825 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-26 23:39:26,825 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-26 23:39:26,825 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-26 23:39:26,842 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jrpe8b6y_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jrpe8b6y', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,034 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_oz3kdf01_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_oz3kdf01', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,136 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_9l2akniz_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_9l2akniz', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,240 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_9hl9u3zq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_9hl9u3zq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,365 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qajhx8eg_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qajhx8eg', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,494 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_grk90cql_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_grk90cql', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,595 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tbdo8yya_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tbdo8yya', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,707 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_q9wq2agr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_q9wq2agr', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,819 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ha6pv6go_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ha6pv6go', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:27,930 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6zc86vf0_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6zc86vf0', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,038 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_egiabfir_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_egiabfir', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,142 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qzntkvfm_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qzntkvfm', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,278 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zmvhr1k4_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zmvhr1k4', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,379 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8333lepy_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8333lepy', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,480 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_x113u8oo_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_x113u8oo', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,581 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3ugs2uv5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3ugs2uv5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,682 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_pjyxl36x_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_pjyxl36x', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,782 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8rmi6q2f_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8rmi6q2f', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:28,901 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-26 23:39:28,902 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-26 23:39:28,904 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-26 23:39:28,908 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_gwd6rftb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_gwd6rftb', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:39:29,019 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-26 23:39:29,020 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-26 23:39:29,020 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-26 23:39:29,020 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-26 23:39:29,022 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-26 23:39:29,026 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6c432hpm_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6c432hpm', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:39:29,132 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-26 23:39:29,133 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-26 23:39:29,133 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-26 23:39:29,133 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-26 23:39:29,134 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-26 23:39:29,138 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_i630fdft_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_i630fdft', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:39:29,248 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-26 23:39:29,248 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-26 23:39:29,248 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-26 23:39:29,248 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-26 23:39:29,249 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-26 23:39:29,256 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_om4jt9cr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_om4jt9cr', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:29,387 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-26 23:39:29,388 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-26 23:39:29,388 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-26 23:39:29,388 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-26 23:39:29,390 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-26 23:39:29,402 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_15ykt1ql_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_15ykt1ql', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:29,587 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-26 23:39:29,587 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-26 23:39:29,587 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-26 23:39:29,587 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-26 23:39:29,588 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-26 23:39:29,594 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_gp6icz0p_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_gp6icz0p', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-26 23:39:29,740 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-26 23:39:29,741 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-26 23:39:29,741 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-26 23:39:29,741 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-26 23:39:29,742 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-26 23:39:29,746 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wxsjv1hm_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wxsjv1hm', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-26 23:39:29,859 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-26 23:39:29,859 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-26 23:39:29,860 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-26 23:39:29,860 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-26 23:39:29,860 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-26 23:39:29,863 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rc2w4sos_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rc2w4sos', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-26 23:39:29,965 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-26 23:39:29,965 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-26 23:39:29,965 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-26 23:39:29,985 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-26 23:39:29,993 - RequestFormProcessor - WARNING - Medicare number format invalid: 22364036
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Extracted phone matches: [('0457578246', 'H'), ('0457578246', 'M')]
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Home phone based on label '(H)'.
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Mobile phone based on label '(M)'.
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 0457578246, Mobile Phone: 0457578246
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 0457578246, Mobile: 0457578246
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-26 23:39:29,993 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Medicare number validation for '22364036': Passed
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-26 23:39:29,994 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-27 11:19:39,935 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-27 11:19:39,936 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-27 11:19:39,936 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-27 11:19:39,936 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-27 11:19:39,936 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-27 11:19:39,936 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-27 11:19:39,954 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2d7tnv8g_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2d7tnv8g', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:40,147 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_orllnbyf_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_orllnbyf', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:40,249 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_go_krj0a_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_go_krj0a', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:40,354 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2vf736nu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2vf736nu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:40,479 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8l6n8u0s_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8l6n8u0s', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:40,607 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_i60jfbfw_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_i60jfbfw', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:40,708 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zzog_xii_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zzog_xii', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:40,821 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bmup2zg7_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bmup2zg7', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:40,933 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ry1ekkzr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ry1ekkzr', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,042 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e52uwu4y_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e52uwu4y', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,148 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bfyjwa3v_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bfyjwa3v', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,252 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ay_304fl_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ay_304fl', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,390 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_juf9babk_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_juf9babk', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,490 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e66k96j8_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e66k96j8', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,591 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jh36csks_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jh36csks', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,691 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nmjvkw5d_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nmjvkw5d', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,791 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_djuelbov_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_djuelbov', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:41,891 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_xuvwzh0r_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_xuvwzh0r', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:42,011 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-27 11:19:42,011 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-27 11:19:42,013 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-27 11:19:42,017 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4y2b6iva_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4y2b6iva', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-27 11:19:42,208 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-27 11:19:42,208 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-27 11:19:42,209 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-27 11:19:42,209 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-27 11:19:42,211 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-27 11:19:42,215 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_b9nzytoq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_b9nzytoq', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-27 11:19:42,328 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-27 11:19:42,328 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-27 11:19:42,329 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-27 11:19:42,329 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-27 11:19:42,330 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-27 11:19:42,334 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3srpa731_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3srpa731', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-27 11:19:42,442 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-27 11:19:42,443 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-27 11:19:42,443 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-27 11:19:42,443 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-27 11:19:42,444 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-27 11:19:42,451 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_pg2mawhu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_pg2mawhu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:42,581 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-27 11:19:42,581 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-27 11:19:42,581 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-27 11:19:42,581 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-27 11:19:42,584 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-27 11:19:42,595 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cetx5l3h_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cetx5l3h', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:42,775 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-27 11:19:42,775 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-27 11:19:42,775 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-27 11:19:42,775 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-27 11:19:42,777 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-27 11:19:42,782 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w2ldxmbc_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w2ldxmbc', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-27 11:19:42,906 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-27 11:19:42,906 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-27 11:19:42,906 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-27 11:19:42,907 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-27 11:19:42,908 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-27 11:19:42,912 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3c7jhw8u_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_3c7jhw8u', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-27 11:19:43,024 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-27 11:19:43,024 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-27 11:19:43,024 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-27 11:19:43,024 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-27 11:19:43,025 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-27 11:19:43,028 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t1xljzwd_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t1xljzwd', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-27 11:19:43,130 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-27 11:19:43,130 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-27 11:19:43,130 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-27 11:19:43,149 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-27 11:19:43,158 - RequestFormProcessor - WARNING - Medicare number format invalid: 22364036
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Extracted phone matches: [('0457578246', 'H'), ('0457578246', 'M')]
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Home phone based on label '(H)'.
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Mobile phone based on label '(M)'.
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 0457578246, Mobile Phone: 0457578246
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 0457578246, Mobile: 0457578246
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-27 11:19:43,158 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Medicare number validation for '22364036': Passed
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-27 11:19:43,159 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-29 11:48:49,889 - root - DEBUG - Configuration loaded: {'DEFAULT_SCAN_FOLDER': '/Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder', 'UPLOAD_FOLDER': 'uploads', 'DATABASE_URI': 'sqlite:///pathology_records.db', 'BACKUP_FOLDER': 'backups', 'LOG_LEVEL': 'DEBUG'}
2024-11-29 11:48:50,096 - root - INFO - Using database at: sqlite:///pathology_records.db
2024-11-29 11:48:50,353 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-29 11:48:50,353 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-29 11:48:50,353 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-29 11:48:50,353 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-29 11:48:50,354 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-29 11:48:50,354 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-29 11:48:50,370 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zgd2svfp_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_zgd2svfp', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:50,565 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cnwa5uam_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cnwa5uam', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:50,668 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess___83wz3u_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess___83wz3u', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:50,772 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nkoxqt4u_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nkoxqt4u', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:50,898 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qpjq_5xb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qpjq_5xb', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,029 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6om47hpe_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6om47hpe', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,130 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rnabkbl0_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rnabkbl0', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,242 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_la4mogh4_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_la4mogh4', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,356 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jzq64vem_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jzq64vem', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,472 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dope3awh_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dope3awh', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,601 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7jw06sqv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7jw06sqv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,706 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t5ft55t7_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t5ft55t7', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,844 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1vxm46wb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1vxm46wb', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:51,944 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_43piv8yp_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_43piv8yp', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:52,050 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f6psub24_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f6psub24', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:52,153 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0zkkcqvw_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0zkkcqvw', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:52,255 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_y_fwxcip_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_y_fwxcip', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:52,356 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5igo3j8p_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5igo3j8p', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:52,476 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-29 11:48:52,477 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-29 11:48:52,479 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-29 11:48:52,483 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_u9p4x1t6_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_u9p4x1t6', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:48:52,595 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-29 11:48:52,595 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-29 11:48:52,596 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-29 11:48:52,597 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-29 11:48:52,598 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-29 11:48:52,602 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s44li3he_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s44li3he', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:48:52,709 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-29 11:48:52,709 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-29 11:48:52,709 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-29 11:48:52,709 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-29 11:48:52,711 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-29 11:48:52,715 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5fom1n5p_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5fom1n5p', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:48:52,824 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-29 11:48:52,825 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-29 11:48:52,825 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-29 11:48:52,825 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-29 11:48:52,826 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-29 11:48:52,833 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_sw3h3t5r_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_sw3h3t5r', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:52,969 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-29 11:48:52,969 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-29 11:48:52,969 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-29 11:48:52,969 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-29 11:48:52,972 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-29 11:48:52,984 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ggu559ns_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ggu559ns', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:53,174 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-29 11:48:53,174 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-29 11:48:53,175 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-29 11:48:53,175 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-29 11:48:53,176 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-29 11:48:53,183 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_v_s3fz1r_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_v_s3fz1r', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:48:53,342 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-29 11:48:53,342 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-29 11:48:53,342 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-29 11:48:53,342 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-29 11:48:53,343 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-29 11:48:53,348 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dfvw4yj3_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dfvw4yj3', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:48:53,461 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-29 11:48:53,462 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-29 11:48:53,462 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-29 11:48:53,462 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-29 11:48:53,463 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-29 11:48:53,465 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qt8wg7m1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qt8wg7m1', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-29 11:48:53,566 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-29 11:48:53,567 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-29 11:48:53,567 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-29 11:48:53,587 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-29 11:48:53,595 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-29 11:48:53,595 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-29 11:48:53,596 - RequestFormProcessor - WARNING - Medicare number format invalid: 2236403629
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Extracted phone matches: [('0457578246', 'H'), ('0457578246', 'M')]
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Home phone based on label '(H)'.
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Mobile phone based on label '(M)'.
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 0457578246, Mobile Phone: 0457578246
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 0457578246, Mobile: 0457578246
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-29 11:48:53,596 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-29 11:48:53,597 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-29 11:48:53,597 - RequestFormProcessor - WARNING - Invalid date of birth format: 'ESHOM4/2024
2024-11-29 11:48:53,597 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-29 11:48:53,597 - RequestFormProcessor - ERROR - Missing required field: Given Name
2024-11-29 11:48:53,597 - RequestFormProcessor - ERROR - Missing required field: Request Date
2024-11-29 11:48:53,597 - RequestFormProcessor - DEBUG - Medicare number validation for '2236403629': Passed
2024-11-29 11:48:53,597 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 11:48:53,597 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 11:48:53,597 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-29 11:48:53,597 - RequestFormProcessor - ERROR - Provider number validation failed: 5373001K
2024-11-29 11:48:53,597 - RequestFormProcessor - ERROR - Date Of Birth validation failed: 1954-01-14 00:00:00
2024-11-29 11:48:53,597 - root - DEBUG - Adding patient record with info: {'request_number': '24H12800', 'request_date': None, 'given_names': 'Chris', 'surname': 'Armstrong', 'name': 'Chris Armstrong', 'date_of_birth': datetime.datetime(1954, 1, 14, 0, 0), 'medicare_number': '2236403629', 'medicare_position': '1', 'home_phone_number': '0457578246', 'mobile_phone_number': '0457578246', 'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW', 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K', 'provider_number': '5373001K', 'ocr_confidence': 85.34, 'phone_number': '0457578246(H)0457578246(M)', 'sex': 'M'}
2024-11-29 11:48:53,603 - root - DEBUG - Added patient record: <database.PatientRecord object at 0x124bda120>
2024-11-29 11:48:53,603 - RequestFormProcessor - INFO - Data saved to database for file: /Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder/SKM_C224e24111620340_0001.jpg
2024-11-29 11:48:53,603 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-29 11:51:33,503 - root - DEBUG - Configuration loaded: {'DEFAULT_SCAN_FOLDER': '/Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder', 'UPLOAD_FOLDER': 'uploads', 'DATABASE_URI': 'sqlite:///pathology_records.db', 'BACKUP_FOLDER': 'backups', 'LOG_LEVEL': 'DEBUG'}
2024-11-29 11:51:33,676 - root - INFO - Using database at: sqlite:///pathology_records.db
2024-11-29 11:51:33,926 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-29 11:51:33,926 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-29 11:51:33,926 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-29 11:51:33,926 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-29 11:51:33,927 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-29 11:51:33,927 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-29 11:51:33,942 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_xuiad9kr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_xuiad9kr', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:34,138 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_unl3qx2l_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_unl3qx2l', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:34,243 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__95gosls_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__95gosls', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:34,345 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8mjhyjla_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8mjhyjla', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:34,472 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f46417r__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f46417r_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:34,602 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_v68bt2s__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_v68bt2s_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:34,702 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_r0084izo_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_r0084izo', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:34,815 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e4r3tobl_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e4r3tobl', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:34,928 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_73m4la4q_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_73m4la4q', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,037 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ci4ibi60_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ci4ibi60', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,143 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2vp3_ulx_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2vp3_ulx', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,251 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0w5e7r95_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0w5e7r95', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,387 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mv274bm__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mv274bm_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,487 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wfcib1hq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wfcib1hq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,587 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_yapia9o__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_yapia9o_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,688 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tasfmogr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tasfmogr', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,789 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_gxi33gs3_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_gxi33gs3', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:35,889 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_86oxjubp_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_86oxjubp', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:36,008 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-29 11:51:36,009 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-29 11:51:36,010 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-29 11:51:36,013 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_b5g8ut3u_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_b5g8ut3u', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:51:36,124 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-29 11:51:36,124 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-29 11:51:36,125 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-29 11:51:36,125 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-29 11:51:36,126 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-29 11:51:36,130 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lg_dom0r_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lg_dom0r', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:51:36,238 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-29 11:51:36,238 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-29 11:51:36,238 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-29 11:51:36,239 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-29 11:51:36,240 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-29 11:51:36,244 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wnkgbcne_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_wnkgbcne', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:51:36,353 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-29 11:51:36,353 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-29 11:51:36,353 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-29 11:51:36,353 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-29 11:51:36,355 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-29 11:51:36,361 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jdca3mtc_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jdca3mtc', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:36,492 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-29 11:51:36,492 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-29 11:51:36,492 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-29 11:51:36,492 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-29 11:51:36,495 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-29 11:51:36,507 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8c_addlf_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8c_addlf', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:36,689 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-29 11:51:36,690 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-29 11:51:36,690 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-29 11:51:36,690 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-29 11:51:36,691 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-29 11:51:36,697 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lcuq8gig_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lcuq8gig', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:51:36,826 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-29 11:51:36,826 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-29 11:51:36,826 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-29 11:51:36,827 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-29 11:51:36,828 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-29 11:51:36,832 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_327war7k_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_327war7k', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:51:36,946 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-29 11:51:36,946 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-29 11:51:36,946 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-29 11:51:36,946 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-29 11:51:36,947 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-29 11:51:36,949 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rzeuxov1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rzeuxov1', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-29 11:51:37,052 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-29 11:51:37,053 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-29 11:51:37,053 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-29 11:51:37,073 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-29 11:51:37,081 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-29 11:51:37,081 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-29 11:51:37,082 - RequestFormProcessor - WARNING - Medicare number format invalid: 2236403629
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Extracted phone matches: [('0457578246', 'H'), ('0457578246', 'M')]
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Home phone based on label '(H)'.
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Mobile phone based on label '(M)'.
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 0457578246, Mobile Phone: 0457578246
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 0457578246, Mobile: 0457578246
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-29 11:51:37,082 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-29 11:51:37,083 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-29 11:51:37,083 - RequestFormProcessor - WARNING - Invalid date of birth format: 'ESHOM4/2024
2024-11-29 11:51:37,083 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-29 11:51:37,083 - RequestFormProcessor - ERROR - Missing required field: Request Date
2024-11-29 11:51:37,083 - RequestFormProcessor - DEBUG - Medicare number validation for '2236403629': Passed
2024-11-29 11:51:37,083 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 11:51:37,083 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 11:51:37,083 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-29 11:51:37,083 - RequestFormProcessor - ERROR - Provider number validation failed: 5373001K
2024-11-29 11:51:37,083 - RequestFormProcessor - ERROR - Date Of Birth validation failed: 1954-01-14 00:00:00
2024-11-29 11:51:37,083 - root - DEBUG - Adding patient record with info: {'request_number': '24H12800', 'request_date': None, 'given_names': 'Chris', 'surname': 'Armstrong', 'name': 'Chris Armstrong', 'date_of_birth': datetime.datetime(1954, 1, 14, 0, 0), 'medicare_number': '2236403629', 'medicare_position': '1', 'home_phone_number': '0457578246', 'mobile_phone_number': '0457578246', 'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW', 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K', 'provider_number': '5373001K', 'ocr_confidence': 85.34, 'phone_number': '0457578246(H)0457578246(M)', 'sex': 'M'}
2024-11-29 11:51:37,089 - root - DEBUG - Added patient record: <database.PatientRecord object at 0x11f9d9fd0>
2024-11-29 11:51:37,089 - RequestFormProcessor - INFO - Data saved to database for file: /Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder/SKM_C224e24111620340_0001.jpg
2024-11-29 11:51:37,089 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-29 11:55:57,829 - root - DEBUG - Configuration loaded: {'DEFAULT_SCAN_FOLDER': '/Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder', 'UPLOAD_FOLDER': 'uploads', 'DATABASE_URI': 'sqlite:///pathology_records.db', 'BACKUP_FOLDER': 'backups', 'LOG_LEVEL': 'DEBUG'}
2024-11-29 11:55:57,998 - root - INFO - Using database at: sqlite:///pathology_records.db
2024-11-29 11:55:58,262 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-29 11:55:58,263 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-29 11:55:58,263 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-29 11:55:58,263 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-29 11:55:58,263 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-29 11:55:58,263 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-29 11:55:58,279 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_hhe6xdsn_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_hhe6xdsn', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:58,472 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_yuyxlzmt_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_yuyxlzmt', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:58,576 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tb5g08ac_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tb5g08ac', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:58,679 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4em0b9bf_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4em0b9bf', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:58,806 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__xcfba5g_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__xcfba5g', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:58,932 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0prladuh_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0prladuh', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,034 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7u_9zni__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7u_9zni_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,145 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_g_ra63ad_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_g_ra63ad', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,258 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_p9qk35y4_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_p9qk35y4', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,367 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_67o_wxl4_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_67o_wxl4', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,476 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_baw0x5rv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_baw0x5rv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,581 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ff8un0na_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ff8un0na', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,719 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_g5__v5hy_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_g5__v5hy', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,819 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lmzvqinm_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_lmzvqinm', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:55:59,922 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_9kh__5qs_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_9kh__5qs', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:56:00,023 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w32nd06g_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w32nd06g', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:56:00,124 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f_sw0v3t_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f_sw0v3t', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:56:00,225 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t_koc6bq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t_koc6bq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:56:00,345 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-29 11:56:00,346 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-29 11:56:00,348 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-29 11:56:00,351 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1fcgd6mk_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1fcgd6mk', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:56:00,469 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-29 11:56:00,469 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-29 11:56:00,469 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-29 11:56:00,469 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-29 11:56:00,471 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-29 11:56:00,475 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_it8ox4lm_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_it8ox4lm', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:56:00,582 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-29 11:56:00,582 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-29 11:56:00,582 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-29 11:56:00,582 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-29 11:56:00,584 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-29 11:56:00,588 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_xi5ldjdh_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_xi5ldjdh', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:56:00,697 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-29 11:56:00,697 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-29 11:56:00,697 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-29 11:56:00,697 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-29 11:56:00,698 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-29 11:56:00,705 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_visx_mtu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_visx_mtu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:56:00,835 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-29 11:56:00,835 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-29 11:56:00,835 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-29 11:56:00,835 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-29 11:56:00,837 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-29 11:56:00,850 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ynr2j10e_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ynr2j10e', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:56:01,031 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-29 11:56:01,031 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-29 11:56:01,031 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-29 11:56:01,031 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-29 11:56:01,033 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-29 11:56:01,038 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2imsb4n9_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2imsb4n9', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:56:01,163 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-29 11:56:01,163 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-29 11:56:01,163 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-29 11:56:01,163 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-29 11:56:01,164 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-29 11:56:01,169 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w7ail697_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_w7ail697', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:56:01,282 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-29 11:56:01,282 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-29 11:56:01,283 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-29 11:56:01,283 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-29 11:56:01,283 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-29 11:56:01,286 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_oohkccur_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_oohkccur', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-29 11:56:01,389 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-29 11:56:01,389 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-29 11:56:01,389 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-29 11:56:01,408 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-29 11:56:01,417 - RequestFormProcessor - WARNING - Medicare number format invalid: 2236403629
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Extracted phone matches: [('0457578246', 'H'), ('0457578246', 'M')]
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Home phone based on label '(H)'.
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Mobile phone based on label '(M)'.
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 0457578246, Mobile Phone: 0457578246
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 0457578246, Mobile: 0457578246
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-29 11:56:01,417 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-29 11:56:01,418 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-29 11:56:01,418 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-29 11:56:01,418 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-29 11:56:01,418 - RequestFormProcessor - WARNING - Invalid date of birth format: 'ESHOM4/2024
2024-11-29 11:56:01,419 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-29 11:56:01,419 - RequestFormProcessor - ERROR - Missing required field: Request Date
2024-11-29 11:56:01,419 - RequestFormProcessor - DEBUG - Medicare number validation for '2236403629': Passed
2024-11-29 11:56:01,419 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 11:56:01,419 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 11:56:01,419 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-29 11:56:01,419 - RequestFormProcessor - DEBUG - Provider number validation for '5373001K': Passed
2024-11-29 11:57:32,039 - root - DEBUG - Configuration loaded: {'DEFAULT_SCAN_FOLDER': '/Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder', 'UPLOAD_FOLDER': 'uploads', 'DATABASE_URI': 'sqlite:///pathology_records.db', 'BACKUP_FOLDER': 'backups', 'LOG_LEVEL': 'DEBUG'}
2024-11-29 11:57:32,238 - root - INFO - Using database at: sqlite:///pathology_records.db
2024-11-29 11:57:32,495 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-29 11:57:32,495 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-29 11:57:32,496 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-29 11:57:32,496 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-29 11:57:32,496 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-29 11:57:32,496 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-29 11:57:32,512 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6a7x5kw1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_6a7x5kw1', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:32,707 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rdbjazlw_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rdbjazlw', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:32,813 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4bwnx2dx_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4bwnx2dx', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:32,918 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_skhpcouv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_skhpcouv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,044 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_17eatbme_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_17eatbme', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,173 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mz0kl9zq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mz0kl9zq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,273 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_076cvynz_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_076cvynz', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,385 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_g5cfra4m_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_g5cfra4m', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,515 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fqfnro9r_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fqfnro9r', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,626 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_eman25kw_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_eman25kw', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,737 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rrhv0h9v_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rrhv0h9v', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,841 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4c5mkyv7_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4c5mkyv7', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:33,979 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fjeyep13_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fjeyep13', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:34,079 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ew6x1hci_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ew6x1hci', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:34,180 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_so_fqfp__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_so_fqfp_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:34,281 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0yrwltnv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0yrwltnv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:34,382 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4f7pfj2h_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4f7pfj2h', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:34,483 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a_31acjt_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a_31acjt', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:34,603 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-29 11:57:34,604 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-29 11:57:34,607 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-29 11:57:34,610 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_vxef2h35_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_vxef2h35', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:57:34,721 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-29 11:57:34,721 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-29 11:57:34,722 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-29 11:57:34,722 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-29 11:57:34,724 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-29 11:57:34,729 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_phiq8gio_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_phiq8gio', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:57:34,834 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-29 11:57:34,835 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-29 11:57:34,835 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-29 11:57:34,835 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-29 11:57:34,836 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-29 11:57:34,840 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j1_s1jt1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j1_s1jt1', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:57:34,947 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-29 11:57:34,947 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-29 11:57:34,947 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-29 11:57:34,947 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-29 11:57:34,949 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-29 11:57:34,955 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0qzp6ckg_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0qzp6ckg', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:35,086 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-29 11:57:35,086 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-29 11:57:35,086 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-29 11:57:35,086 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-29 11:57:35,089 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-29 11:57:35,100 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s6fjedjr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_s6fjedjr', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:35,282 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-29 11:57:35,282 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-29 11:57:35,282 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-29 11:57:35,282 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-29 11:57:35,283 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-29 11:57:35,289 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_86rm38ue_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_86rm38ue', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 11:57:35,414 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-29 11:57:35,414 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-29 11:57:35,414 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-29 11:57:35,414 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-29 11:57:35,415 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-29 11:57:35,420 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qtxsdkjv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qtxsdkjv', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 11:57:35,532 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-29 11:57:35,532 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-29 11:57:35,533 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-29 11:57:35,533 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-29 11:57:35,533 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-29 11:57:35,536 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_pqw52lj4_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_pqw52lj4', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-29 11:57:35,637 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-29 11:57:35,637 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-29 11:57:35,637 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-29 11:57:35,657 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-29 11:57:35,666 - RequestFormProcessor - WARNING - Medicare number format invalid: 2236403629
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Extracted phone matches: [('0457578246', 'H'), ('0457578246', 'M')]
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Home phone based on label '(H)'.
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Mobile phone based on label '(M)'.
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 0457578246, Mobile Phone: 0457578246
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 0457578246, Mobile: 0457578246
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-29 11:57:35,666 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-29 11:57:35,667 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-29 11:57:35,667 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-29 11:57:35,667 - RequestFormProcessor - WARNING - Invalid date of birth format: 'ESHOM4/2024
2024-11-29 11:57:35,667 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-29 11:57:35,667 - RequestFormProcessor - ERROR - Missing required field: Request Date
2024-11-29 11:57:35,667 - RequestFormProcessor - DEBUG - Medicare number validation for '2236403629': Passed
2024-11-29 11:57:35,667 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 11:57:35,667 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 11:57:35,667 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-29 11:57:35,667 - RequestFormProcessor - DEBUG - Provider number validation for '5373001K': Passed
2024-11-29 11:57:35,667 - root - DEBUG - Adding patient record with info: {'request_number': '24H12800', 'request_date': None, 'given_names': 'Chris', 'surname': 'Armstrong', 'name': 'Chris Armstrong', 'date_of_birth': datetime.datetime(1954, 1, 14, 0, 0), 'medicare_number': '2236403629', 'medicare_position': '1', 'home_phone_number': '0457578246', 'mobile_phone_number': '0457578246', 'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW', 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K', 'provider_number': '5373001K', 'ocr_confidence': 85.34, 'phone_number': '0457578246(H)0457578246(M)', 'sex': 'M'}
2024-11-29 11:57:35,674 - root - DEBUG - Added patient record: <database.PatientRecord object at 0x110f85fd0>
2024-11-29 11:57:35,674 - RequestFormProcessor - INFO - Data saved to database for file: /Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder/SKM_C224e24111620340_0001.jpg
2024-11-29 11:57:35,674 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-29 12:05:28,191 - root - DEBUG - Configuration loaded: {'DEFAULT_SCAN_FOLDER': '/Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder', 'UPLOAD_FOLDER': 'uploads', 'DATABASE_URI': 'sqlite:///pathology_records.db', 'BACKUP_FOLDER': 'backups', 'LOG_LEVEL': 'DEBUG'}
2024-11-29 12:05:28,395 - root - INFO - Using database at: sqlite:///pathology_records.db
2024-11-29 12:05:28,653 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-29 12:05:28,653 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-29 12:05:28,653 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-29 12:05:28,653 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-29 12:05:28,653 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-29 12:05:28,653 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-29 12:05:28,671 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_oa8ym4pq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_oa8ym4pq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:28,864 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_v4mijj3w_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_v4mijj3w', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:28,968 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1r7j6e6g_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_1r7j6e6g', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,072 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nlg12b1__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nlg12b1_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,199 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ig1iy5eb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ig1iy5eb', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,330 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4tixjgvb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_4tixjgvb', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,433 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_l243k811_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_l243k811', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,546 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jflpfgg__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jflpfgg_', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,659 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_39icbvcj_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_39icbvcj', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,768 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bzvh_ywt_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bzvh_ywt', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,874 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_633xugs5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_633xugs5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:29,978 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ag5x616h_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ag5x616h', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:30,115 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f5xo1isk_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_f5xo1isk', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:30,215 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_urlgur5j_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_urlgur5j', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:30,316 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__f3vm_im_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__f3vm_im', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:30,417 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nn819w68_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nn819w68', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:30,518 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a50f_lq2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a50f_lq2', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:30,622 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__rxsfg54_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__rxsfg54', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:30,740 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-29 12:05:30,741 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-29 12:05:30,743 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-29 12:05:30,747 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2ocxyj85_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_2ocxyj85', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:05:30,859 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-29 12:05:30,859 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-29 12:05:30,860 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-29 12:05:30,860 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-29 12:05:30,861 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-29 12:05:30,865 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mdzpvxn1_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mdzpvxn1', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:05:30,973 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-29 12:05:30,973 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-29 12:05:30,973 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-29 12:05:30,973 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-29 12:05:30,975 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-29 12:05:30,979 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tl46jpq2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tl46jpq2', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:05:31,095 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-29 12:05:31,096 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-29 12:05:31,096 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-29 12:05:31,096 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-29 12:05:31,097 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-29 12:05:31,104 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tq7a2rty_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_tq7a2rty', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:31,275 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-29 12:05:31,275 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-29 12:05:31,275 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-29 12:05:31,275 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-29 12:05:31,278 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-29 12:05:31,290 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_sbzkwagx_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_sbzkwagx', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:31,468 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-29 12:05:31,469 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-29 12:05:31,469 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-29 12:05:31,469 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-29 12:05:31,470 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-29 12:05:31,476 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_p67pfr_s_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_p67pfr_s', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:05:31,598 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-29 12:05:31,599 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-29 12:05:31,599 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-29 12:05:31,599 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-29 12:05:31,600 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-29 12:05:31,604 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kpu00c58_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_kpu00c58', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:05:31,714 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-29 12:05:31,715 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-29 12:05:31,715 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-29 12:05:31,715 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-29 12:05:31,715 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-29 12:05:31,718 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_44wc2imm_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_44wc2imm', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-29 12:05:31,818 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-29 12:05:31,819 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-29 12:05:31,819 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-29 12:05:31,838 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-29 12:05:31,847 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-29 12:05:31,847 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-29 12:07:07,568 - root - DEBUG - Configuration loaded: {'DEFAULT_SCAN_FOLDER': '/Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder', 'UPLOAD_FOLDER': 'uploads', 'DATABASE_URI': 'sqlite:///pathology_records.db', 'BACKUP_FOLDER': 'backups', 'LOG_LEVEL': 'DEBUG'}
2024-11-29 12:07:07,738 - root - INFO - Using database at: sqlite:///pathology_records.db
2024-11-29 12:07:07,993 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-29 12:07:07,993 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-29 12:07:07,993 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-29 12:07:07,993 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-29 12:07:07,993 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-29 12:07:07,993 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-29 12:07:08,008 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j8hahugq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j8hahugq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:08,197 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_74l_e5k2_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_74l_e5k2', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:08,304 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__f9vohs3_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__f9vohs3', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:08,407 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_soo2g9km_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_soo2g9km', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:08,532 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_obr9e1j5_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_obr9e1j5', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:08,662 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ur6n97yo_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ur6n97yo', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:08,762 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7qwi2lnb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7qwi2lnb', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:08,875 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_r_l4cvmv_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_r_l4cvmv', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:08,986 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nyeiemvz_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nyeiemvz', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,095 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rdz24hj0_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rdz24hj0', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,202 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bz6sur5n_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bz6sur5n', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,308 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ytx1aplw_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ytx1aplw', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,445 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bb0vaiiu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_bb0vaiiu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,544 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e_36v0by_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e_36v0by', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,643 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rev0szue_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_rev0szue', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,746 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_pgxde81k_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_pgxde81k', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,848 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7al82d_n_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7al82d_n', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:09,948 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qoqhg0bq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_qoqhg0bq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:10,068 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-29 12:07:10,068 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-29 12:07:10,070 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-29 12:07:10,073 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5pxu_mdb_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5pxu_mdb', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:07:10,184 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-29 12:07:10,184 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-29 12:07:10,184 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-29 12:07:10,185 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-29 12:07:10,186 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-29 12:07:10,190 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fdbwx81w_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fdbwx81w', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:07:10,296 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-29 12:07:10,296 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-29 12:07:10,296 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-29 12:07:10,296 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-29 12:07:10,297 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-29 12:07:10,302 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j5g85k0p_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j5g85k0p', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:07:10,410 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-29 12:07:10,410 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-29 12:07:10,411 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-29 12:07:10,411 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-29 12:07:10,412 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-29 12:07:10,419 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_576o40rm_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_576o40rm', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:10,549 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-29 12:07:10,549 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-29 12:07:10,549 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-29 12:07:10,549 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-29 12:07:10,552 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-29 12:07:10,564 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5z8pzr6s_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_5z8pzr6s', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:10,744 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-29 12:07:10,745 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-29 12:07:10,745 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-29 12:07:10,745 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-29 12:07:10,746 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-29 12:07:10,752 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0q6ywsm7_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_0q6ywsm7', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:10,878 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-29 12:07:10,879 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-29 12:07:10,879 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-29 12:07:10,879 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-29 12:07:10,880 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-29 12:07:10,884 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8s9et5ut_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_8s9et5ut', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:07:10,996 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-29 12:07:10,996 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-29 12:07:10,997 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-29 12:07:10,997 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-29 12:07:10,998 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-29 12:07:11,000 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jeqhm7xs_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_jeqhm7xs', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-29 12:07:11,102 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-29 12:07:11,102 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-29 12:07:11,102 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-29 12:07:11,122 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Extracted phone matches: [('0457578246', 'H'), ('0457578246', 'M')]
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Home phone based on label '(H)'.
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Mobile phone based on label '(M)'.
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 0457578246, Mobile Phone: 0457578246
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 0457578246, Mobile: 0457578246
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-29 12:07:11,131 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-29 12:07:11,132 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-29 12:07:11,132 - RequestFormProcessor - WARNING - Invalid date of birth format: 'ESHOM4/2024
2024-11-29 12:07:11,132 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-29 12:07:11,132 - RequestFormProcessor - ERROR - Missing required field: Request Date
2024-11-29 12:07:11,132 - RequestFormProcessor - DEBUG - Medicare number validation for '2236403629': Passed
2024-11-29 12:07:11,132 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 12:07:11,132 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 12:07:11,132 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-29 12:07:11,132 - RequestFormProcessor - DEBUG - Provider number validation for '5373001K': Passed
2024-11-29 12:07:11,132 - root - DEBUG - Adding patient record with info: {'request_number': '24H12800', 'request_date': None, 'given_names': 'Chris', 'surname': 'Armstrong', 'name': 'Chris Armstrong', 'date_of_birth': datetime.datetime(1954, 1, 14, 0, 0), 'medicare_number': '2236403629', 'medicare_position': '1', 'home_phone_number': '0457578246', 'mobile_phone_number': '0457578246', 'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW', 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K', 'provider_number': '5373001K', 'ocr_confidence': 85.34, 'phone_number': '0457578246(H)0457578246(M)', 'sex': 'M'}
2024-11-29 12:07:11,138 - root - DEBUG - Added patient record: <database.PatientRecord object at 0x110e56120>
2024-11-29 12:07:11,138 - RequestFormProcessor - INFO - Data saved to database for file: /Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder/SKM_C224e24111620340_0001.jpg
2024-11-29 12:07:11,138 - RequestFormProcessor - DEBUG - Returning extracted data.
2024-11-29 12:07:55,783 - root - DEBUG - Configuration loaded: {'DEFAULT_SCAN_FOLDER': '/Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder', 'UPLOAD_FOLDER': 'uploads', 'DATABASE_URI': 'sqlite:///pathology_records.db', 'BACKUP_FOLDER': 'backups', 'LOG_LEVEL': 'DEBUG'}
2024-11-29 12:07:55,960 - root - INFO - Using database at: sqlite:///pathology_records.db
2024-11-29 12:07:56,220 - RequestFormProcessor - DEBUG - Detected 2 barcodes in the barcode region.
2024-11-29 12:07:56,220 - RequestFormProcessor - DEBUG - Barcode detected: BP000593-EF6F2F2C71 (Type: CODE128)
2024-11-29 12:07:56,220 - RequestFormProcessor - WARNING - Invalid barcode format detected: BP000593-EF6F2F2C71
2024-11-29 12:07:56,220 - RequestFormProcessor - DEBUG - Barcode detected: 24H12800 (Type: CODE128)
2024-11-29 12:07:56,220 - RequestFormProcessor - DEBUG - Valid barcode data found: 24H12800
2024-11-29 12:07:56,220 - RequestFormProcessor - DEBUG - Valid request number extracted from barcode: 24H12800
2024-11-29 12:07:56,236 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7qgnkv6h_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_7qgnkv6h', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:56,432 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t6p_fvzl_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_t6p_fvzl', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:56,535 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a6u95h5g_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a6u95h5g', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:56,637 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ru1li5uq_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ru1li5uq', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:56,764 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a0x_e4bi_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_a0x_e4bi', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:56,894 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_vep9vkmn_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_vep9vkmn', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:56,997 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e86f05y4_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e86f05y4', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,110 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_14j3b5ll_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_14j3b5ll', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,222 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_064xd5d6_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_064xd5d6', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,333 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__6lazehd_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess__6lazehd', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,439 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_b3h4u3lr_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_b3h4u3lr', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,544 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fyx06d2g_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fyx06d2g', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,681 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e3vjp7gm_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_e3vjp7gm', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,784 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_15nnob2h_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_15nnob2h', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,884 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cdpntsgf_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_cdpntsgf', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:57,986 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_z03w8ojg_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_z03w8ojg', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:58,089 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nb3qje0a_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nb3qje0a', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:58,190 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ppxbq3mu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ppxbq3mu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:58,310 - RequestFormProcessor - DEBUG - Medicare anchor detected: MedicareAnchor(text='2236403629/1', confidence=92.0, bounding_box=(531, 40, 671, 60))
2024-11-29 12:07:58,310 - RequestFormProcessor - DEBUG - Calculated relative region: (657, 105, 807, 135)
2024-11-29 12:07:58,312 - RequestFormProcessor - DEBUG - Preprocessed image for field 'date_of_birth' saved as 'preprocessed_date_of_birth.png'
2024-11-29 12:07:58,316 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j4ruvc10_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_j4ruvc10', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:07:58,431 - RequestFormProcessor - DEBUG - Cleaned text for field 'date_of_birth': '14/01/1954'
2024-11-29 12:07:58,432 - RequestFormProcessor - DEBUG - Field 'date_of_birth' extracted: 14/01/1954 (Confidence: 96.0)
2024-11-29 12:07:58,432 - RequestFormProcessor - DEBUG - Drew bounding box for field 'date_of_birth' at region (657, 105, 807, 135)
2024-11-29 12:07:58,432 - RequestFormProcessor - DEBUG - Calculated relative region: (292, 105, 492, 135)
2024-11-29 12:07:58,433 - RequestFormProcessor - DEBUG - Preprocessed image for field 'given_names' saved as 'preprocessed_given_names.png'
2024-11-29 12:07:58,438 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dn5rql0v_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_dn5rql0v', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:07:58,544 - RequestFormProcessor - DEBUG - Cleaned text for field 'given_names': 'Chris'
2024-11-29 12:07:58,545 - RequestFormProcessor - DEBUG - Field 'given_names' extracted: Chris (Confidence: 95.0)
2024-11-29 12:07:58,545 - RequestFormProcessor - DEBUG - Drew bounding box for field 'given_names' at region (292, 105, 492, 135)
2024-11-29 12:07:58,545 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 105, 227, 135)
2024-11-29 12:07:58,546 - RequestFormProcessor - DEBUG - Preprocessed image for field 'surname' saved as 'preprocessed_surname.png'
2024-11-29 12:07:58,550 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_yiu0wvk__input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_yiu0wvk_', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:07:58,658 - RequestFormProcessor - DEBUG - Cleaned text for field 'surname': 'Armstrong'
2024-11-29 12:07:58,659 - RequestFormProcessor - DEBUG - Field 'surname' extracted: Armstrong (Confidence: 96.0)
2024-11-29 12:07:58,659 - RequestFormProcessor - DEBUG - Drew bounding box for field 'surname' at region (27, 105, 227, 135)
2024-11-29 12:07:58,659 - RequestFormProcessor - DEBUG - Calculated relative region: (27, 144, 327, 214)
2024-11-29 12:07:58,660 - RequestFormProcessor - DEBUG - Preprocessed image for field 'address' saved as 'preprocessed_address.png'
2024-11-29 12:07:58,668 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_135heo1e_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_135heo1e', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:58,799 - RequestFormProcessor - DEBUG - Cleaned text for field 'address': '3 King Street Port Macquarie2444'
2024-11-29 12:07:58,799 - RequestFormProcessor - DEBUG - Field 'address' extracted: 3 King Street Port Macquarie2444 (Confidence: 96.0)
2024-11-29 12:07:58,799 - RequestFormProcessor - DEBUG - Drew bounding box for field 'address' at region (27, 144, 327, 214)
2024-11-29 12:07:58,799 - RequestFormProcessor - DEBUG - Calculated relative region: (509, 556, 866, 686)
2024-11-29 12:07:58,802 - RequestFormProcessor - DEBUG - Preprocessed image for field 'doctor_information' saved as 'preprocessed_doctor_information.png'
2024-11-29 12:07:58,814 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mc1ehr7v_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_mc1ehr7v', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:58,995 - RequestFormProcessor - DEBUG - Cleaned text for field 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K'
2024-11-29 12:07:58,995 - RequestFormProcessor - DEBUG - Field 'doctor_information' extracted: QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K (Confidence: 91.94117647058823)
2024-11-29 12:07:58,995 - RequestFormProcessor - DEBUG - Drew bounding box for field 'doctor_information' at region (509, 556, 866, 686)
2024-11-29 12:07:58,995 - RequestFormProcessor - DEBUG - Calculated relative region: (654, 156, 854, 216)
2024-11-29 12:07:58,997 - RequestFormProcessor - DEBUG - Preprocessed image for field 'phone_number' saved as 'preprocessed_phone_number.png'
2024-11-29 12:07:59,002 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nufdwmeu_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_nufdwmeu', '-c', 'tessedit_create_tsv=1', '--psm', '6']
2024-11-29 12:07:59,128 - RequestFormProcessor - DEBUG - Cleaned text for field 'phone_number': '0457578246(H)0457578246(M)'
2024-11-29 12:07:59,128 - RequestFormProcessor - DEBUG - Field 'phone_number' extracted: 0457578246(H)0457578246(M) (Confidence: 93.75)
2024-11-29 12:07:59,128 - RequestFormProcessor - DEBUG - Drew bounding box for field 'phone_number' at region (654, 156, 854, 216)
2024-11-29 12:07:59,128 - RequestFormProcessor - DEBUG - Calculated relative region: (685, 471, 885, 501)
2024-11-29 12:07:59,129 - RequestFormProcessor - DEBUG - Preprocessed image for field 'request_date' saved as 'preprocessed_request_date.png'
2024-11-29 12:07:59,134 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ik2wn74q_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_ik2wn74q', '-c', 'tessedit_create_tsv=1', '--psm', '7']
2024-11-29 12:07:59,246 - RequestFormProcessor - DEBUG - Cleaned text for field 'request_date': ''ESHOM4/2024'
2024-11-29 12:07:59,246 - RequestFormProcessor - DEBUG - Field 'request_date' extracted: 'ESHOM4/2024 (Confidence: 24.0)
2024-11-29 12:07:59,246 - RequestFormProcessor - DEBUG - Drew bounding box for field 'request_date' at region (685, 471, 885, 501)
2024-11-29 12:07:59,246 - RequestFormProcessor - DEBUG - Calculated relative region: (608, 105, 648, 135)
2024-11-29 12:07:59,247 - RequestFormProcessor - DEBUG - Preprocessed image for field 'sex' saved as 'preprocessed_sex.png'
2024-11-29 12:07:59,250 - pytesseract - DEBUG - ['tesseract', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fbc87y8n_input.PNG', '/var/folders/kc/9mxzt7ln3k3bgs1m1hbyfzb80000gn/T/tess_fbc87y8n', '-c', 'tessedit_create_tsv=1', '--psm', '10']
2024-11-29 12:07:59,350 - RequestFormProcessor - DEBUG - Cleaned text for field 'sex': 'M'
2024-11-29 12:07:59,351 - RequestFormProcessor - DEBUG - Field 'sex' extracted: M (Confidence: 90.0)
2024-11-29 12:07:59,351 - RequestFormProcessor - DEBUG - Drew bounding box for field 'sex' at region (608, 105, 648, 135)
2024-11-29 12:07:59,370 - RequestFormProcessor - DEBUG - Debug image saved as 'field_regions_debug.png'
2024-11-29 12:07:59,379 - RequestFormProcessor - DEBUG - Masked image saved as 'masked_form.png'
2024-11-29 12:07:59,379 - RequestFormProcessor - DEBUG - Background mask applied to the image.
2024-11-29 12:07:59,379 - RequestFormProcessor - DEBUG - Extracted phone matches: [('0457578246', 'H'), ('0457578246', 'M')]
2024-11-29 12:07:59,379 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Home phone based on label '(H)'.
2024-11-29 12:07:59,379 - RequestFormProcessor - DEBUG - Assigned '0457578246' as Mobile phone based on label '(M)'.
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Final assignment - Home Phone: 0457578246, Mobile Phone: 0457578246
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Processed phone numbers - Home: 0457578246, Mobile: 0457578246
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Extracted postcode: 2444
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Mapped postcode to state: NSW
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Found street type 'Street' at index 2
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Address split based on street type: Address='3 King Street', Suburb='Port Macquarie'
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Parsed address into components: {'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW'}
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Provider number extracted: 5373001K
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Given names cleaned: Chris
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Total name constructed from given names and surname: Chris Armstrong
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Date of birth parsed successfully: 1954-01-14 00:00:00
2024-11-29 12:07:59,380 - RequestFormProcessor - WARNING - Invalid date of birth format: 'ESHOM4/2024
2024-11-29 12:07:59,380 - RequestFormProcessor - DEBUG - Overall OCR confidence calculated: 85.34
2024-11-29 12:07:59,380 - RequestFormProcessor - ERROR - Missing required field: Request Date
2024-11-29 12:07:59,381 - RequestFormProcessor - DEBUG - Medicare number validation for '2236403629': Passed
2024-11-29 12:07:59,381 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 12:07:59,381 - RequestFormProcessor - DEBUG - Phone number validation for '0457578246': Passed
2024-11-29 12:07:59,381 - RequestFormProcessor - DEBUG - Request number validation for '24H12800': Passed
2024-11-29 12:07:59,381 - RequestFormProcessor - DEBUG - Provider number validation for '5373001K': Passed
2024-11-29 12:07:59,381 - root - DEBUG - Adding patient record with info: {'request_number': '24H12800', 'request_date': None, 'given_names': 'Chris', 'surname': 'Armstrong', 'name': 'Chris Armstrong', 'date_of_birth': datetime.datetime(1954, 1, 14, 0, 0), 'medicare_number': '2236403629', 'medicare_position': '1', 'home_phone_number': '0457578246', 'mobile_phone_number': '0457578246', 'address': '3 King Street', 'suburb': 'Port Macquarie', 'postcode': '2444', 'state': 'NSW', 'doctor_information': 'QydasonHeise4PacificDrivePortMacquarie2444Ph0265838844Fax02658310105373001K', 'provider_number': '5373001K', 'ocr_confidence': 85.34, 'phone_number': '0457578246(H)0457578246(M)', 'sex': 'M'}
2024-11-29 12:07:59,386 - root - DEBUG - Added patient record: <database.PatientRecord object at 0x111ac2120>
2024-11-29 12:07:59,387 - RequestFormProcessor - INFO - Data saved to database for file: /Users/rileymcnamara/CODE/2024/Data-Entry-App/test_scan_folder/SKM_C224e24111620340_0001.jpg
2024-11-29 12:07:59,387 - RequestFormProcessor - DEBUG - Returning extracted data.
